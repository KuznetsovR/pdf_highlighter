(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{17:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=17},31:function(e,t,n){e.exports=n(73)},49:function(e,t){},50:function(e,t){},51:function(e,t){},52:function(e,t){},53:function(e,t){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n.n(r),s=n(11),c=n(15),l=n(3),h=n(4),u=n(6),d=n(5),m=n(7),g=n(25),p=n.n(g),f=n(26),v=n.n(f),b=(n(39),n(9)),y=n(14),w=n(2),O=n(27),E=n.n(O),R=n(28),j=n.n(R),S=n(19),k=(n(60),n(61),n(62),function(e){var t=Array.from(e).map((function(e){var t=e.left,n=e.top;return{X0:t,X1:t+e.width,Y0:n,Y1:n+e.height}})),n=t.reduce((function(e,t){return{X0:Math.min(e.X0,t.X0),X1:Math.max(e.X1,t.X1),Y0:Math.min(e.Y0,t.Y0),Y1:Math.max(e.Y1,t.Y1)}}),t[0]),a=n.X0,i=n.X1,r=n.Y0;return{left:a,top:r,width:i-a,height:n.Y1-r}}),x=function(e,t){return e.left<=t.left&&t.left<=e.left+e.width},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return Math.abs(e.top-t.top)<n&&Math.abs(e.height-t.height)<n},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=e.left+e.width,i=t.left+t.width;return e.left<=t.left&&a<=i&&t.left-a<=n},C=function(e,t){e.width=Math.max(t.width-e.left+t.left,e.width)},T=function(e){for(var t=function(e){return e.sort((function(e,t){var n=e.top-t.top;return 0===n?e.left-t.left:n}))}(e),n=new Set,a=t.filter((function(e){return t.every((function(t){return a=t,!((n=e).top>a.top&&n.left>a.left&&n.top+n.height<a.top+a.height&&n.left+n.width<a.left+a.width);var n,a}))})),i=0;i<=2;)a.forEach((function(e){a.forEach((function(t){e===t||n.has(e)||n.has(t)||N(e,t)&&(x(e,t)&&(C(e,t),e.height=Math.max(e.height,t.height),n.add(t)),P(e,t)&&(C(e,t),n.add(t)))}))})),i+=1;return a.filter((function(e){return!n.has(e)}))},M=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Array.from(e.getClientRects()),i=t.getBoundingClientRect(),r=a.map((function(e){return{top:e.top+t.scrollTop-i.top,left:e.left+t.scrollLeft-i.left,width:e.width,height:e.height}}));return n?T(r):r},D=function(e,t){var n=t.left,a=t.top,i=t.width,r=t.height,o=document.createElement("canvas");if(!(o instanceof HTMLCanvasElement))return"";o.width=i,o.height=r;var s=o.getContext("2d");if(!s||!e)return"";var c=window.devicePixelRatio;return s.drawImage(e,n*c,a*c,i*c,r*c,0,0,i,r),o.toDataURL("image/png")},H=function(e){var t=e.closest(".page");return t instanceof HTMLElement?{node:t,number:Number(t.dataset.pageNumber)}:null},A=function(e){var t=e.startContainer.parentElement;if(t instanceof HTMLElement)return H(t)},L=function(e,t){var n=e.querySelector(".".concat(t));return n||((n=document.createElement("div")).className=t,e.appendChild(n)),n};function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Z(Object(w.a)(n),"state",{height:0,width:0}),Z(Object(w.a)(n),"updatePosition",(function(){var e=n.refs.container;if(void 0!==e){var t=e.offsetHeight,a=e.offsetWidth;n.setState({height:t,width:a})}})),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.updatePosition()}},{key:"componentDidMount",value:function(){setTimeout(this.updatePosition,0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.style,r=t.scrollTop,o=t.pageBoundingRect,s=this.state,c=s.height,l=s.width,h=0===l&&0===c,u=a.top-c-5<r,d=u?a.bottom+5:a.top-c-5,m=function(e,t,n){return Math.min(Math.max(e,t),n)}(a.left-l/2,0,o.width-l),g=i.a.Children.map(n,(function(t){return i.a.cloneElement(t,{onUpdate:function(){e.setState({width:0,height:0},(function(){setTimeout(e.updatePosition,0)}))},popup:{position:u?"below":"above"}})}));return i.a.createElement("div",{className:"PdfHighlighter__tip-container",style:{visibility:h?"hidden":"visible",top:d,left:m},ref:"container"},g)}}]),t}(a.Component);n(63);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),q(Object(w.a)(n),"state",{locked:!1,start:null,end:null}),q(Object(w.a)(n),"root",void 0),q(Object(w.a)(n),"reset",(function(){(0,n.props.onDragEnd)(),n.setState({start:null,end:null,locked:!1})})),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"getBoundingRect",value:function(e,t){return{left:Math.min(t.x,e.x),top:Math.min(t.y,e.y),width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}}},{key:"componentDidUpdate",value:function(){var e=this.props.onChange,t=this.state,n=t.start,a=t.end;e(Boolean(n&&a))}},{key:"componentDidMount",value:function(){var e=this;if(this.root){var t=this,n=this.props,a=n.onSelection,i=n.onDragStart,r=n.onDragEnd,o=n.shouldStart,s=(n.rotate,n.scale,this.root.parentElement);if(s instanceof HTMLElement){var c=null,l=function(e,t){return c||(c=s.getBoundingClientRect()),{x:e-c.left+s.scrollLeft,y:t-c.top+s.scrollTop}};s.addEventListener("mousemove",(function(n){var a=e.state,i=a.start,r=a.locked;i&&!r&&t.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state,{end:l(n.pageX,n.pageY)}))})),s.addEventListener("mousedown",(function(n){if(o(n)){var c=n.target;if(c instanceof HTMLElement){i(),e.setState({start:l(n.pageX,n.pageY),end:null,locked:!1});document.body&&document.body.addEventListener("mouseup",(function n(i){i.currentTarget.removeEventListener("mouseup",n);var o=e.state.start;if(o){var h=l(i.pageX,i.pageY),u=t.getBoundingRect(o,h);i.target instanceof HTMLElement&&s.contains(i.target)&&t.shouldRender(u)?t.setState({end:h,locked:!0},(function(){var e=t.state,n=e.start,o=e.end;n&&o&&i.target instanceof HTMLElement&&(a(c,u,t.reset),r())})):t.reset()}}))}}else e.reset()}))}}}},{key:"shouldRender",value:function(e){return e.width>=1&&e.height>=1}},{key:"render",value:function(){var e=this,t=this.state,n=t.start,a=t.end;return i.a.createElement("div",{className:"MouseSelection-container",ref:function(t){return e.root=t}},n&&a?i.a.createElement("div",{className:"MouseSelection",style:this.getBoundingRect(n,a)}):null)}}]),t}(a.Component),V=n(10),z=function(e,t,n,a){var i=t.width,r=t.height;return{x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,width:i,height:r}},Y=function(e,t,n,a){var i=t.convertToViewportRectangle([e.x1,e.y1,e.x2,e.y2]),r=Object(V.a)(i,4),o=r[0],s=r[1];return{left:o,top:s,width:r[2]-o,height:s-r[3]}},F=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=t.width,s=t.height;if(a)return Y(e,t);if(void 0===e.x1)throw new Error("You are using old position format, please update");if(0===r||180===r||-180===r){var c=o*e.x1/e.width/i,l=s*e.y1/e.height/i,h=o*e.x2/e.width/i,u=s*e.y2/e.height/i;n={left:c,top:l,width:h-c,height:u-l}}if(90===r){var d=o*e.x1/e.height/i,m=s*e.y1/e.width/i,g=o*e.x2/e.height/i,p=s*e.y2/e.width/i;n={left:d,top:m,width:g-d,height:p-m}}if(-90===r){var f=o*(e.width-e.x2)/e.height/i,v=s*(e.height-e.y1)/e.width/i,b=o*(e.width-e.x1)/e.height/i,y=s*(e.height-e.y2)/e.width/i;n={left:f,top:y,width:b-f,height:v-y}}return n};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),W(Object(w.a)(n),"state",{ghostHighlight:null,isCollapsed:!0,range:null,scrolledToHighlightId:"empty-id",isAreaSelectionInProgress:!1,tip:null,rotate:0,scale:1}),W(Object(w.a)(n),"viewer",void 0),W(Object(w.a)(n),"linkService",void 0),W(Object(w.a)(n),"containerNode",null),W(Object(w.a)(n),"debouncedAfterSelection",void 0),W(Object(w.a)(n),"hideTipAndSelection",(function(){var e=L(n.viewer.viewer,"PdfHighlighter__tip-layer");o.a.unmountComponentAtNode(e),n.setState({ghostHighlight:null,tip:null},(function(){return n.renderHighlights()}))})),W(Object(w.a)(n),"onTextLayerRendered",(function(){n.renderHighlights()})),W(Object(w.a)(n),"scrollTo",(function(e){var t=e.position,a=t.pageNumber,i=t.boundingRect,r=t.usePdfCoordinates;n.viewer.container.removeEventListener("scroll",n.onScroll);var o=n.viewer.getPageView(a-1).viewport,s=n.viewer.currentScaleValue,c=n.viewer.pagesRotation,l=F(i,o,r,s,c).top-10;o.convertToPdfPoint(0,l);void 0===c||0===c?o.convertToPdfPoint(0,l):90!==c&&-90!==c||o.convertToPdfPoint(l,0),n.viewer.scrollPageIntoView({pageNumber:a}),n.setState({scrolledToHighlightId:e.id},(function(){return n.renderHighlights()})),setTimeout((function(){n.viewer.container.addEventListener("scroll",n.onScroll)}),100)})),W(Object(w.a)(n),"onDocumentReady",(function(){(0,n.props.scrollRef)(n.scrollTo)})),W(Object(w.a)(n),"onSelectionChange",(function(){var e=window.getSelection();if(e.isCollapsed)n.setState({isCollapsed:!0});else{var t=e.getRangeAt(0);t&&(n.setState({isCollapsed:!1,range:t}),n.debouncedAfterSelection())}})),W(Object(w.a)(n),"onScroll",(function(){(0,n.props.onScrollChange)(),n.setState({scrolledToHighlightId:"empty-id"},(function(){return n.renderHighlights()})),n.viewer.container.removeEventListener("scroll",n.onScroll)})),W(Object(w.a)(n),"onMouseDown",(function(e){e.target instanceof HTMLElement&&(e.target.closest(".PdfHighlighter__tip-container")||n.hideTipAndSelection())})),W(Object(w.a)(n),"handleKeyDown",(function(e){"Escape"===e.code&&n.hideTipAndSelection()})),W(Object(w.a)(n),"afterSelection",(function(){var e=n.props.onSelectionFinished,t=n.state,a=t.isCollapsed,i=t.range;if(i&&!a){var r=A(i);if(r){var o=M(i,r.node);if(0!==o.length){var s={boundingRect:k(o),rects:o,pageNumber:r.number},c={text:i.toString()},l=n.viewportPositionToScaled(s);n.renderTipAtPosition(s,e(l,c,(function(){return n.hideTipAndSelection()}),(function(){return n.setState({ghostHighlight:h(n.props.scale,n.props.rotate)},(function(){return n.renderHighlights()}))})))}}}function h(e,t){return{position:function e(t,n){if(90===t){var a=n.x1,i=n.y1,r=n.x2,o=n.y2,s=n.width,c=n.height;n.x1=i,n.y1=Math.abs(r-s),n.x2=o,n.y2=Math.abs(a-s),n.width=c,n.height=s}if(-90===t){var l=n.x1,h=n.y1,u=n.x2,d=n.y2,m=n.width,g=n.height;n.x1=Math.abs(d-g),n.y2=m-Math.abs(u-m),n.x2=Math.abs(h-g),n.y1=m-Math.abs(l-m),n.width=g,n.height=m}if(-180===t||180===t){var p=n.x1,f=n.y1,v=n.x2,b=n.y2,y=n.width,w=n.height;n.x1=Math.abs(v-y),n.y1=Math.abs(b-w),n.x2=Math.abs(p-y),n.y2=Math.abs(f-w),n.width=y,n.height=w}n.rects&&(n.rects=n.rects.map((function(n){return e(t,n)})));return n}(t,l)}}})),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e){e.highlights===this.props.highlights&&e.rotate===this.props.rotate&&e.scale===this.props.scale||this.renderHighlights(this.props)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.pdfDocument;this.debouncedAfterSelection=j.a.debounce(500,this.afterSelection),this.linkService=new S.PDFLinkService,this.viewer=new S.PDFViewer({container:this.containerNode,enhanceTextSelection:!0,removePageBorders:!0,useOnlyCssZoom:!0,linkService:this.linkService,scale:1}),this.viewer.setDocument(t),this.linkService.setDocument(t),this.linkService.setViewer(this.viewer),window.PdfViewer=this,document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("pagesinit",(function(){e.onDocumentReady()})),document.addEventListener("textlayerrendered",this.onTextLayerRendered)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("textlayerrendered",this.onTextLayerRendered)}},{key:"findOrCreateHighlightLayer",value:function(e){var t=this.viewer.getPageView(e-1).textLayer;return t?L(t.textLayerDiv,"PdfHighlighter__highlight-layer"):null}},{key:"groupHighlightsByPage",value:function(e){var t=this.state.ghostHighlight;return[].concat(Object(c.a)(e),[t]).filter(Boolean).reduce((function(e,t){var n=t.position.pageNumber;return e[n]=e[n]||[],e[n].push(t),e}),{})}},{key:"showTip",value:function(e,t){var n=this.state,a=n.isCollapsed,i=n.ghostHighlight,r=n.isAreaSelectionInProgress;!a||i||r||this.renderTipAtPosition(e.position,t)}},{key:"scaledPositionToViewport",value:function(e){var t=e.pageNumber,n=e.boundingRect,a=e.rects,i=e.usePdfCoordinates,r=this.viewer.getPageView(t-1).viewport,o=this.viewer.currentScaleValue,s=this.viewer.pagesRotation;return{boundingRect:F(n,r,i,o,s),rects:(a||[]).map((function(e){return F(e,r,i,o,s)})),pageNumber:t}}},{key:"viewportPositionToScaled",value:function(e){var t=e.pageNumber,n=e.boundingRect,a=e.rects,i=this.viewer.getPageView(t-1).viewport;this.viewer.currentScaleValue,this.viewer.pagesRotation;return{boundingRect:z(n,i),rects:(a||[]).map((function(e){return z(e,i)})),pageNumber:t}}},{key:"scale",value:function(e,t){this.viewer.currentScaleValue=e,this.viewer.pagesRotation=t}},{key:"screenshot",value:function(e,t){var n=this.viewer.getPageView(t-1).canvas;return e.height=e.height/this.props.scale,e.width=e.width/this.props.scale,e.left=e.left/this.props.scale,e.top=e.top/this.props.scale,D(n,e)}},{key:"renderHighlights",value:function(e){var t=this,n=e||this.props,a=n.highlightTransform,r=n.highlights,s=n.rotate,c=n.scale;this.scale(c,s);for(var l=this.props.pdfDocument,h=this.state,u=h.tip,d=h.scrolledToHighlightId,m=this.groupHighlightsByPage(r),g=function(e){var n=t.findOrCreateHighlightLayer(e);n&&o.a.render(i.a.createElement("div",{className:"full-size"},(m[String(e)]||[]).map((function(n,i){var r=n.position,o=Object(y.a)(n,["position"]),s=U({position:t.scaledPositionToViewport(r)},o);u&&u.highlight.id===String(n.id)&&t.showTip(u.highlight,u.callback(s));var c=Boolean(d===n.id);return a(s,i,(function(e,n){t.setState({tip:{highlight:e,callback:n}}),t.showTip(e,n(e))}),t.hideTipAndSelection,(function(n){var a=t.viewer.getPageView(e-1).viewport;t.viewer.currentScaleValue,t.viewer.pagesRotation;return z(n,a)}),(function(n){return t.screenshot(n,e)}),c)}))),n)},p=1;p<=l.numPages;p++)g(p)}},{key:"renderTipAtPosition",value:function(e,t){var n=e.boundingRect,a=e.pageNumber,r={node:this.viewer.getPageView(a-1).div},s=r.node.getBoundingClientRect(),c=L(this.viewer.viewer,"PdfHighlighter__tip-layer");o.a.render(i.a.createElement(B,{scrollTop:this.viewer.container.scrollTop,pageBoundingRect:s,style:{left:r.node.offsetLeft+n.left+n.width/2,top:n.top+r.node.offsetTop,bottom:n.top+r.node.offsetTop+n.height},children:t}),c)}},{key:"toggleTextSelection",value:function(e){this.viewer.viewer.classList.toggle("PdfHighlighter--disable-selection",e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSelectionFinished,a=t.enableAreaSelection;t.scale,t.rotate;return i.a.createElement(E.a,{onPointerDown:this.onMouseDown},i.a.createElement("div",{ref:function(t){return e.containerNode=t},className:"PdfHighlighter",onContextMenu:function(e){return e.preventDefault()}},i.a.createElement("div",{className:"pdfViewer"}),"function"===typeof a?i.a.createElement(I,{onDragStart:function(){return e.toggleTextSelection(!0)},onDragEnd:function(){return e.toggleTextSelection(!1)},onChange:function(t){return e.setState({isAreaSelectionInProgress:t})},shouldStart:function(e){return a(e)&&e.target instanceof HTMLElement&&Boolean(e.target.closest(".page"))},onSelection:function(t,a,i){var r=H(t);if(r){var o={boundingRect:U({},a,{top:a.top-r.node.offsetTop,left:a.left-r.node.offsetLeft}),rects:[],pageNumber:r.number},s=e.viewportPositionToScaled(o),c=JSON.parse(JSON.stringify(s)),l=e.getGhostHighlight(c,"",e.props.scale,e.props.rotate).position,h={left:l.boundingRect.x1,top:l.boundingRect.y1,width:l.boundingRect.x2-l.boundingRect.x1,height:l.boundingRect.y2-l.boundingRect.y1},u=e.screenshot(h,r.number);e.renderTipAtPosition(o,n(s,{image:u},(function(){return e.hideTipAndSelection()}),(function(){return e.setState({ghostHighlight:e.getGhostHighlight(s,u,e.props.scale,e.props.rotate)},(function(){i(),e.renderHighlights()}))})))}}}):null))}},{key:"getGhostHighlight",value:function(e,t,n,a){var i=e.boundingRect;return e.boundingRect=this.extracted(a,i),{position:e,content:{image:t}}}},{key:"extracted",value:function(e,t){if(90===e){var n=t.x1,a=t.y1,i=t.x2,r=t.y2,o=t.width,s=t.height;t.x1=a,t.y1=Math.abs(i-o),t.x2=r,t.y2=Math.abs(n-o),t.width=s,t.height=o}if(-90===e){var c=t.x1,l=t.y1,h=t.x2,u=t.y2,d=t.width,m=t.height;t.x1=Math.abs(u-m),t.y2=d-Math.abs(h-d),t.x2=Math.abs(l-m),t.y1=d-Math.abs(c-d),t.width=m,t.height=d}if(-180===e||180===e){var g=t.x1,p=t.y1,f=t.x2,v=t.y2,b=t.width,y=t.height;t.x1=Math.abs(f-b),t.y1=Math.abs(v-y),t.x2=Math.abs(g-b),t.y2=Math.abs(p-y),t.width=b,t.height=y}return t}}]),t}(a.PureComponent);n(64);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),G(Object(w.a)(n),"state",{compact:!0,text:"",emoji:""}),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.onUpdate;n&&this.state.compact!==t.compact&&n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onConfirm,a=t.onOpen,r=this.state,o=r.compact,s=r.text,c=r.emoji;return i.a.createElement("div",{className:"Tip"},o?i.a.createElement("div",{className:"Tip__compact",onClick:function(){a(),e.setState({compact:!1})}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"):i.a.createElement("form",{className:"Tip__card",onSubmit:function(e){e.preventDefault(),n({text:s,emoji:c})}},i.a.createElement("div",null,i.a.createElement("textarea",{width:"100%",placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",autoFocus:!0,value:s,onChange:function(t){return e.setState({text:t.target.value})},ref:function(e){e&&e.focus()}}),i.a.createElement("div",null,["\ud83d\udd25","\u26a0\ufe0f"].map((function(t){return i.a.createElement("label",{key:t},i.a.createElement("input",{checked:c===t,type:"radio",name:"emoji",value:t,onChange:function(t){return e.setState({emoji:t.target.value})}}),t)})))),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}))))}}]),t}(a.Component),Q=(n(65),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({parent:this.getTransformableParent()})}},{key:"getTransformableParent",value:function(){for(var e=o.a.findDOMNode(this);(e=e.parentElement)&&"textLayer"!==e.className;);return e}},{key:"clampRotation",value:function(e){for(;e>180;)e-=360;for(;e<-180;)e+=360;return e}},{key:"getContainerTransform",value:function(e,t,n){if(!e||"none"===e.style.transform)return"none";var a=e.style.transform,i=a.match(/rotate\(-?(\d+)deg\)/),r=i&&+i[1]||0,o=a.match(/scale\(([\d.]+),/),s=o&&+o[1]||1,c=e.getBoundingClientRect(),l=this.getOffsets(t,r,c)||[0,0],h=Object(V.a)(l,2),u=h[0],d=h[1],m=t-r;return-90!==t||r||(m=90),Math.abs(t)===r&&(m=0),90===Math.abs(t)&&180===r&&(m=-90),-90===t&&270===r&&(m=180),n/=s,"rotate(".concat(m,"deg) scale(").concat(n,", ").concat(n,") translate(").concat(u,"px, ").concat(d,"px)")}},{key:"getOffsets",value:function(e,t,n){if(!(e-(t=this.clampRotation(t)))&&-90!==e)return[0,0];switch(e){case-180:switch(t){case-90:return[-n.width,0];case 0:return[-n.width,-n.height];case 90:return[0,-n.height];default:return 0}case-90:switch(t){case-180:case 180:return[-n.height,0];case-90:return[-n.height,-n.width];case 0:return[0,-n.width];default:return 0}case 0:switch(t){case-90:return[-n.height,0];case 90:return[-n.width,0];case 180:return[-n.width,-n.height];default:return 0}case 90:switch(t){case-90:return[-n.height,-n.width];case 0:return[0,-n.width];case 180:return[-n.height,0];default:return 0}case 180:switch(t){case-90:return[-n.width,0];case 0:return[-n.width,-n.height];case 90:return[0,-n.height];default:return 0}default:return 0}}},{key:"render",value:function(){var e=this.props,t=e.rotate,n=e.scale,a=this.state.parent,r={transform:this.getContainerTransform(a,t,n),transformOrigin:"0% 0%"};return i.a.createElement("div",{className:"full-size",style:r},this.props.children)}}]),t}(a.Component)),$=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.position,n=e.onClick,a=e.onMouseOver,r=e.onMouseOut,o=e.comment,s=e.isScrolledTo,c=e.rotate,l=e.scale,h=t.rects,u=t.boundingRect;return i.a.createElement(Q,{rotate:c,scale:l},i.a.createElement("div",{className:"Highlight ".concat(s?"Highlight--scrolledTo":"")},o?i.a.createElement("div",{className:"Highlight__emoji",style:{left:20,top:u.top}},o.emoji):null,i.a.createElement("div",{className:"Highlight__parts"},h.map((function(e,t){return i.a.createElement("div",{onMouseOver:a,onMouseOut:r,onClick:n,key:t,style:e,className:"Highlight__part"})})))))}}]),t}(a.Component);function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),ee(Object(w.a)(n),"container",void 0),ee(Object(w.a)(n),"onMouseMove",(function(e){if(n.container){var t=n.props,a=t.onMoveAway,i=t.paddingX,r=t.paddingY,o=e.clientX,s=e.clientY,c=n.container.getBoundingClientRect(),l=c.left,h=c.top,u=c.width,d=c.height;o>l-i&&o<l+u+i&&(s>h-r&&s<h+d+r)||a()}})),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.onMouseMove)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onMoveAway,t.paddingX,t.paddingY,t.children),a=Object(y.a)(t,["onMoveAway","paddingX","paddingY","children"]);return i.a.createElement("div",{ref:function(t){return e.container=t}},i.a.cloneElement(n,a))}}]),t}(a.Component);function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),ne(Object(w.a)(n),"state",{mouseIn:!1}),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onMouseOver,a=t.popupContent,r=t.onMouseOut,o=t.rotate,s=t.scale;return i.a.createElement("div",{className:"full-size",style:{position:"absolute"},onMouseOver:function(){e.setState({mouseIn:!0}),n(i.a.createElement(te,{rotate:o,scale:s,onMoveAway:function(){e.state.mouseIn||r()},paddingX:60,paddingY:30,children:a}))},onMouseOut:function(){e.setState({mouseIn:!1})}},this.props.children)}}]),t}(a.Component),ie=n(30);n(66);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var se=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.highlight,n=e.onChange,a=e.rotate,r=e.scale,o=Object(y.a)(e,["highlight","onChange","rotate","scale"]);return i.a.createElement(Q,{rotate:a,scale:r},i.a.createElement(ie.a,oe({className:"AreaHighlight",disableDragging:!0,enableResizing:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},onDragStop:function(e,a){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.position.boundingRect,{top:a.y,left:a.x});n(i)},onResizeStop:function(e,t,a,i,r){var o={top:r.y,left:r.x,width:a.offsetWidth,height:a.offsetHeight};n(o)},position:{x:t.position.boundingRect.left,y:t.position.boundingRect.top},size:{width:t.position.boundingRect.width,height:t.position.boundingRect.height},onClick:function(e){e.stopPropagation(),e.preventDefault()}},o)))}}]),t}(a.Component),ce=n(13),le=n.n(ce),he=n(18),ue=n.n(he);function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),de(Object(w.a)(n),"state",{pdfDocument:null}),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.url,a=t.onError;le.a.getDocument({url:n,eventBusDispatchToDOM:!0}).promise.then((function(t){e.setState({pdfDocument:t})})).catch(a)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.beforeLoad,a=this.state.pdfDocument;return a?t(a):n}}]),t}(a.Component),ge=n(1),pe=n.n(ge),fe=(n(67),n(68),n(69),n(16)),ve=n.n(fe),be=function(e){var t=e.message;return i.a.createElement("div",{className:"columns has-text-danger has-margin-top-5 is-mobile"},i.a.createElement("div",{className:"column is-4 has-text-right has-padding-5"},i.a.createElement("span",{className:"icon"},i.a.createElement("i",{className:"material-icons"},"error_outline"))),i.a.createElement("div",{className:"column is-8 has-text-left has-padding-5"},i.a.createElement("small",null,t)))};be.propTypes={message:pe.a.string.isRequired};var ye=be;le.a.GlobalWorkerOptions.workerSrc=ue.a;var we=null,Oe=function(e){var t=e.src,n=e.pageNum,r=e.scale,o=e.rotation,s=e.pageCount,c=e.protectContent,l=e.watermark,h=e.alert,u=Object(a.useState)({status:!1,message:""}),d=Object(V.a)(u,2),m=d[0],g=d[1],p=Object(a.useRef)(null),f=h||ye;return Object(a.useEffect)((function(){!function(){var e,a,i,c,h,u,d,m,f,v,b,y,w,O;ve.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,ve.a.awrap(le.a.getDocument(t).promise);case 3:return we=E.sent,E.prev=4,E.next=7,ve.a.awrap(we.getPage(n));case 7:return e=E.sent,a=e.getViewport({scale:r,rotation:o}),(i=p.current).height=a.height,i.width=a.width,c=i.getContext("2d"),h={canvasContext:c,viewport:a},u=e.render(h),E.prev=15,E.next=18,ve.a.awrap(u.promise);case 18:0!==Object.entries(l).length&&(d=l.text,m=l.diagonal,f=l.opacity,v=l.size,b=l.color,c.globalAlpha=f,c.font="".concat(v*r,"px Comic Sans MS"),c.fillStyle=b,y=c.measureText(d),w=y.width,O=v*r,c.translate(a.width/2,a.height/2),m&&c.rotate(-.785),c.fillText(d,-w/2,O/2)),s(we.numPages),E.next=26;break;case 22:E.prev=22,E.t0=E.catch(15),console.warn("Error occured while rendering !\n",E.t0),g({status:!0,message:"Error occured while rendering !"});case 26:E.next=32;break;case 28:E.prev=28,E.t1=E.catch(4),console.warn("Error while reading the pages !\n",E.t1),g({status:!0,message:"Error while reading the pages !"});case 32:E.next=38;break;case 34:E.prev=34,E.t2=E.catch(0),console.warn("Error while opening the document !\n",E.t2),g({status:!0,message:"Error while opening the document !"});case 38:case"end":return E.stop()}}),null,null,[[0,34],[4,28],[15,22]])}()}),[t,n,r,o,s]),m.status?(s(-1),i.a.createElement(f,{message:m.message})):i.a.createElement("canvas",{onContextMenu:function(e){return c?e.preventDefault():null},ref:p,width:"undefined"!==typeof window&&window.innerWidth,height:"undefined"!==typeof window&&window.innerHeight})};Oe.propTypes={src:pe.a.any.isRequired,pageNum:pe.a.number.isRequired,scale:pe.a.number.isRequired,rotation:pe.a.number.isRequired,pageCount:pe.a.func,protectContent:pe.a.bool,watermark:pe.a.shape({text:pe.a.string,diagonal:pe.a.bool,opacity:pe.a.string,size:pe.a.string,color:pe.a.string})},Oe.defaultProps={pageCount:function(){},protectContent:!1,watermark:{}};var Ee=function(e){var t=e.css,n=e.page,r=e.pages,o=e.handleNextClick,s=t||"button is-black is-marginless",c=Object(a.useState)(!1),l=Object(V.a)(c,2),h=l[0],u=l[1];return h||n===r?i.a.createElement("button",{className:s,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right"))):i.a.createElement("button",{className:s,onClick:function(){u(!0),o(),setTimeout((function(){u(!1)}),200)},disabled:h},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right")))};Ee.propTypes={css:pe.a.string,page:pe.a.number.isRequired,pages:pe.a.number.isRequired,handleNextClick:pe.a.func.isRequired};var Re=function(e){var t=e.css,n=e.page,a=e.pages,r=t||"is-size-7 is-vcentered has-text-centered is-inline-flex has-padding-top-5 button is-black is-marginless has-margin-left-5 has-margin-right-5";return i.a.createElement("span",{className:r},"Page ".concat(n," / ").concat(a))};Re.propTypes={css:pe.a.string,page:pe.a.number.isRequired,pages:pe.a.number.isRequired};var je=function(e){var t=e.css,n=e.page,r=e.handlePrevClick,o=t||"button is-black is-marginless",s=Object(a.useState)(!1),c=Object(V.a)(s,2),l=c[0],h=c[1];return l||1===n?i.a.createElement("button",{className:o,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_left"))):i.a.createElement("button",{className:o,onClick:function(){h(!0),r(),setTimeout((function(){h(!1)}),200)}},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_left")))};je.propTypes={css:pe.a.string,page:pe.a.number.isRequired,handlePrevClick:pe.a.func.isRequired};var Se=function(e){var t=e.css,n=e.scale,a=e.defaultScale,r=e.maxScale,o=e.handleZoomIn,s=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5",c=r;return a>r&&(c=a),n.toFixed(2)===c.toFixed(2)?i.a.createElement("button",{className:s,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"zoom_in"))):i.a.createElement("button",{className:s,onClick:o},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"zoom_in")))};Se.propTypes={css:pe.a.string,scale:pe.a.number.isRequired,defaultScale:pe.a.number.isRequired,maxScale:pe.a.number.isRequired,handleZoomIn:pe.a.func.isRequired};var ke=Se,xe=function(e){var t=e.css,n=e.scale,a=e.defaultScale,r=e.minScale,o=e.handleZoomOut,s=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5",c=r;return a<r&&(c=a),n.toFixed(2)===c.toFixed(2)?i.a.createElement("button",{className:s,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"zoom_out"))):i.a.createElement("button",{className:s,onClick:o},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"zoom_out")))};xe.propTypes={css:pe.a.string,scale:pe.a.number.isRequired,defaultScale:pe.a.number.isRequired,minScale:pe.a.number.isRequired,handleZoomOut:pe.a.func.isRequired};var Ne=xe,Pe=function(e){var t=e.css,n=e.scale,a=e.defaultScale,r=e.handleResetZoom,o=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return n.toFixed(2)===a.toFixed(2)?i.a.createElement("button",{className:o,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"refresh"))):i.a.createElement("button",{className:o,onClick:r},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"refresh")))};Pe.propTypes={css:pe.a.string,scale:pe.a.number.isRequired,defaultScale:pe.a.number.isRequired,handleResetZoom:pe.a.func.isRequired};var Ce=Pe,Te=function(e){var t=e.css,n=e.rotationAngle,a=e.handleRotateLeft,r=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return-180===n?i.a.createElement("button",{className:r,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"rotate_left"))):i.a.createElement("button",{className:r,onClick:a},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"rotate_left")))};Te.propTypes={css:pe.a.string,rotationAngle:pe.a.number.isRequired,handleRotateLeft:pe.a.func.isRequired};var Me=Te,De=function(e){var t=e.css,n=e.rotationAngle,a=e.handleResetRotation,r=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return 0===n?i.a.createElement("button",{className:r,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"refresh"))):i.a.createElement("button",{className:r,onClick:a},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"refresh")))};De.propTypes={css:pe.a.string,rotationAngle:pe.a.number.isRequired,handleResetRotation:pe.a.func.isRequired};var He=De,Ae=function(e){var t=e.css,n=e.rotationAngle,a=e.handleRotateRight,r=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return 180===n?i.a.createElement("button",{className:r,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"rotate_right"))):i.a.createElement("button",{className:r,onClick:a},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"rotate_right")))};Ae.propTypes={css:pe.a.string,rotationAngle:pe.a.number.isRequired,handleRotateRight:pe.a.func.isRequired};var Le=Ae,Ze=function(e){e.page,e.pages;var t=e.scale,n=e.defaultScale,a=e.maxScale,r=e.minScale,o=e.rotationAngle,s=e.hideZoom,c=e.hideRotation,l=e.css,h=(e.handlePrevClick,e.handleNextClick,e.handleZoomIn),u=e.handleResetZoom,d=e.handleZoomOut,m=e.handleRotateLeft,g=e.handleResetRotation,p=e.handleRotateRight;return i.a.createElement("div",{className:"columns is-gapless ".concat(l.navbarWrapper||"box is-mobile has-text-white has-background-black has-margin-top-15 has-margin-bottom-15")},s?i.a.createElement("div",{className:"column is-2"}):i.a.createElement("div",{className:"column is-2 buttons are-small has-addons"},i.a.createElement(Ne,{scale:t,minScale:r,defaultScale:n,css:l.zoomOutBtn,handleZoomOut:d}),i.a.createElement(Ce,{scale:t,defaultScale:n,css:l.resetZoomBtn,handleResetZoom:u}),i.a.createElement(ke,{scale:t,maxScale:a,defaultScale:n,css:l.zoomInBtn,handleZoomIn:h})),i.a.createElement("div",{className:"column"}),c?i.a.createElement("div",{className:"column is-2"}):i.a.createElement("div",{className:"column is-2 buttons are-small has-addons is-right"},i.a.createElement(Me,{css:l.rotateLeftBtn,rotationAngle:o,handleRotateLeft:m}),i.a.createElement(He,{css:l.resetRotationBtn,rotationAngle:o,handleResetRotation:g}),i.a.createElement(Le,{css:l.rotateRightBtn,rotationAngle:o,handleRotateRight:p})))};Ze.propTypes={page:pe.a.number.isRequired,pages:pe.a.number.isRequired,scale:pe.a.number,defaultScale:pe.a.number,maxScale:pe.a.number,minScale:pe.a.number,rotationAngle:pe.a.number,hideZoom:pe.a.bool,hideRotation:pe.a.bool,css:pe.a.shape({navbarWrapper:pe.a.string,pages:pe.a.string,pageIndicator:pe.a.string,previousPageBtn:pe.a.string,nextPageBtn:pe.a.string,zoomOutBtn:pe.a.string,resetZoomBtn:pe.a.string,zoomInBtn:pe.a.string,rotateLeftBtn:pe.a.string,resetRotationBtn:pe.a.string,rotateRightBtn:pe.a.string}),elements:pe.a.shape({previousPageBtn:pe.a.any,nextPageBtn:pe.a.any,pages:pe.a.any}),handlePrevClick:pe.a.func.isRequired,handleNextClick:pe.a.func.isRequired,handleZoomIn:pe.a.func.isRequired,handleResetZoom:pe.a.func.isRequired,handleZoomOut:pe.a.func.isRequired,handleRotateLeft:pe.a.func.isRequired,handleResetRotation:pe.a.func.isRequired,handleRotateRight:pe.a.func.isRequired},Ze.defaultProps={css:{},elements:{}};var Be=Ze;function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie={display:"inline-block",verticalAlign:"text-bottom",backgroundColor:"currentColor",borderRadius:"50%",opacity:0,width:"0.5rem",height:"0.5rem",animationDuration:"0.75s",animationTimingFunction:"linear",animationIterationCount:"infinite",animationDirection:"normal",animationFillMode:"none",animationPlayState:"running",animationName:"spinner-grow"},Ve=(qe({},Ie,{animationDelay:"0s"}),qe({},Ie,{animationDelay:"0.25s"}),qe({},Ie,{animationDelay:"0.5s"}),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={page:n.props.page,pages:0,scale:n.props.scale,defaultScale:n.props.scale,rotationAngle:n.props.rotationAngle,isReady:!1},n.getPageCount=n.getPageCount.bind(Object(w.a)(n)),n.handlePrevClick=n.handlePrevClick.bind(Object(w.a)(n)),n.handleNextClick=n.handleNextClick.bind(Object(w.a)(n)),n.handleZoomIn=n.handleZoomIn.bind(Object(w.a)(n)),n.handleResetZoom=n.handleResetZoom.bind(Object(w.a)(n)),n.handleZoomOut=n.handleZoomOut.bind(Object(w.a)(n)),n.handleRotateLeft=n.handleRotateLeft.bind(Object(w.a)(n)),n.handleResetRotation=n.handleResetRotation.bind(Object(w.a)(n)),n.handleRotateRight=n.handleRotateRight.bind(Object(w.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"getPageCount",value:function(e){this.state.pages!==e&&this.setState({pages:e,isReady:!0})}},{key:"handlePrevClick",value:function(){1!==this.state.page&&(this.setState({page:this.state.page-1}),this.props.onPrevBtnClick&&this.props.onPrevBtnClick(this.state.page-1))}},{key:"handleNextClick",value:function(){this.state.page!==this.pages&&(this.setState({page:this.state.page+1}),this.props.onNextBtnClick&&this.props.onNextBtnClick(this.state.page+1))}},{key:"handleZoomIn",value:function(){var e=this.props.maxScale;this.state.defaultScale>this.props.maxScale&&(e=this.state.defaultScale),this.state.scale<e&&this.setState({scale:this.state.scale+this.props.scaleStep}),this.props.onZoom&&this.props.onZoom(this.state.scale+this.props.scaleStep)}},{key:"handleResetZoom",value:function(){this.setState({scale:this.state.defaultScale}),this.props.onZoom&&this.props.onZoom(this.state.defaultScale)}},{key:"handleZoomOut",value:function(){var e=this.props.minScale;this.state.defaultScale<this.props.minScale&&(e=this.state.defaultScale),this.state.scale>e&&this.setState({scale:this.state.scale-this.props.scaleStep}),this.props.onZoom&&this.props.onZoom(this.state.scale-this.props.scaleStep)}},{key:"handleRotateLeft",value:function(){var e=this.state.rotationAngle-90;-180!==this.state.rotationAngle&&this.setState({rotationAngle:e}),this.props.onRotation&&this.props.onRotation(e)}},{key:"handleResetRotation",value:function(){0!==this.state.rotationAngle&&this.setState({rotationAngle:0}),this.props.onRotation&&this.props.onRotation(0)}},{key:"handleRotateRight",value:function(){var e=this.state.rotationAngle+90;180!==this.state.rotationAngle&&this.setState({rotationAngle:e}),this.props.onRotation&&this.props.onRotation(e)}},{key:"render",value:function(){var e=this.props,t=(e.loader,e.maxScale),n=e.minScale,a=e.hideNavbar,r=e.hideZoom,o=e.hideRotation,s=(e.navbarOnTop,e.navigation),c=e.css,l=(e.canvasCss,e.onDocumentClick,e.protectContent,e.watermark,e.alert,this.state),h=l.page,u=l.pages,d=l.scale,m=l.defaultScale,g=l.rotationAngle,p=s,f=null;return a||(f=!s||s&&"object"===typeof s?i.a.createElement(Be,{page:h,pages:u,scale:d,defaultScale:m,maxScale:t,minScale:n,rotationAngle:g,hideZoom:r,hideRotation:o,css:s?s.css:void 0,handleNextClick:this.handleNextClick,handlePrevClick:this.handlePrevClick,handleZoomIn:this.handleZoomIn,handleResetZoom:this.handleResetZoom,handleZoomOut:this.handleZoomOut,handleRotateLeft:this.handleRotateLeft,handleResetRotation:this.handleResetRotation,handleRotateRight:this.handleRotateRight}):i.a.createElement(p,{page:h,pages:u,scale:d,defaultScale:m,maxScale:t,minScale:n,rotationAngle:g,hideZoom:r,hideRotation:o,handleNextClick:this.handleNextClick,handlePrevClick:this.handlePrevClick,handleZoomIn:this.handleZoomIn,handleResetZoom:this.handleResetZoom,handleZoomOut:this.handleZoomOut,handleRotateLeft:this.handleRotateLeft,handleResetRotation:this.handleResetRotation,handleRotateRight:this.handleRotateRight})),i.a.createElement("div",{className:c||"container text-center"},i.a.createElement("div",null,i.a.createElement("div",null,f)))}}]),t}(i.a.Component));Ve.propTypes={loader:pe.a.node,page:pe.a.number,scale:pe.a.number,scaleStep:pe.a.number,maxScale:pe.a.number,minScale:pe.a.number,css:pe.a.string,canvasCss:pe.a.string,rotationAngle:pe.a.number,onDocumentClick:pe.a.func,onPrevBtnClick:pe.a.func,onNextBtnClick:pe.a.func,onZoom:pe.a.func,onRotation:pe.a.func,hideNavbar:pe.a.bool,navbarOnTop:pe.a.bool,hideZoom:pe.a.bool,hideRotation:pe.a.bool,protectContent:pe.a.bool,watermark:pe.a.shape({text:pe.a.string,diagonal:pe.a.bool,opacity:pe.a.string,size:pe.a.string,color:pe.a.string}),alert:pe.a.any,navigation:pe.a.oneOfType([pe.a.shape({css:pe.a.shape({navbarWrapper:pe.a.string,zoomOutBtn:pe.a.string,resetZoomBtn:pe.a.string,zoomInBtn:pe.a.string,previousPageBtn:pe.a.string,pageIndicator:pe.a.string,nextPageBtn:pe.a.string,rotateLeftBtn:pe.a.string,resetRotationBtn:pe.a.string,rotateRightBtn:pe.a.string})}),pe.a.any])},Ve.defaultProps={page:1,defaultScale:1,scale:1,scaleStep:1,maxScale:3,minScale:1,rotationAngle:0,hideNavbar:!1,hideZoom:!1,hideRotation:!1,navbarOnTop:!1};var ze=Ve,Ye=(n(71),function(){return i.a.createElement("div",{style:{display:"flex",alignItems:"center",height:"100vh"}},i.a.createElement("div",{className:"sk-fading-circle"},i.a.createElement("div",{className:"sk-circle1 sk-circle"}),i.a.createElement("div",{className:"sk-circle2 sk-circle"}),i.a.createElement("div",{className:"sk-circle3 sk-circle"}),i.a.createElement("div",{className:"sk-circle4 sk-circle"}),i.a.createElement("div",{className:"sk-circle5 sk-circle"}),i.a.createElement("div",{className:"sk-circle6 sk-circle"}),i.a.createElement("div",{className:"sk-circle7 sk-circle"}),i.a.createElement("div",{className:"sk-circle8 sk-circle"}),i.a.createElement("div",{className:"sk-circle9 sk-circle"}),i.a.createElement("div",{className:"sk-circle10 sk-circle"}),i.a.createElement("div",{className:"sk-circle11 sk-circle"}),i.a.createElement("div",{className:"sk-circle12 sk-circle"})))});var Fe=function(e){var t=e.highlights,n=e.resetHighlights,a=e.removeHighlight;return i.a.createElement("div",{className:"sidebar",style:{width:"25vw"}},i.a.createElement("div",{className:"description",style:{padding:"1rem"}},i.a.createElement("h2",{style:{marginBottom:"1rem"}},"\u0412\u0430\u0448\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),i.a.createElement("p",null,i.a.createElement("small",null,"\u0414\u043b\u044f \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 Alt \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f"))),i.a.createElement("ul",{className:"sidebar__highlights"},t.map((function(e,t){return i.a.createElement("li",{key:t,className:"sidebar__highlight",onClick:function(){!function(e){document.location.hash="highlight-".concat(e.id)}(e)}},i.a.createElement("div",null,i.a.createElement("strong",null,e.comment.text),e.content.text?i.a.createElement("blockquote",{style:{marginTop:"0.5rem"}},"".concat(e.content.text.slice(0,90).trim(),"\u2026")):null,e.content.image?i.a.createElement("div",null,i.a.createElement("div",{className:"highlight__image",style:{marginTop:"0.5rem"}},i.a.createElement("img",{src:e.content.image,alt:"Screenshot"}))):null),i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){a(e)}},"Remove")),i.a.createElement("div",{className:"highlight__location"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",e.position.pageNumber))}))),t.length>0?i.a.createElement("div",{style:{padding:"1rem"}},i.a.createElement("button",{onClick:n},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c")):null)},Xe=(n(72),function(){return document.location.hash.slice("#highlight-".length)}),Ue=function(){document.location.hash=""},We=function(e){var t=e.comment;return t.text?i.a.createElement("div",{className:"Highlight__popup"},t.emoji," ",t.text):null},Je=new p.a(document.location.search).get("url")||"https://arxiv.org/pdf/1708.08021.pdf",Ge=localStorage.getItem(Je);function Ke(e){try{JSON.parse(e)}catch(t){return!1}return!0}var Qe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={highlights:Ke(Ge)&&JSON.parse(Ge)?Object(c.a)(JSON.parse(Ge)):[],rotate:0,scale:1},n.resetHighlights=function(){n.setState(Object(s.a)({},n.state,{highlights:[]}))},n.removeHighlight=function(e){var t=Object(c.a)(n.state.highlights),a=t.indexOf(e);-1!==a&&(t.splice(a,1),n.setState(Object(s.a)({},n.state,{highlights:t})))},n.setRotation=function(e){n.setState(Object(s.a)({},n.state,{rotate:e}))},n.setZoom=function(e){n.setState(Object(s.a)({},n.state,{scale:e}))},n.scrollViewerTo=function(e){},n.scrollToHighlightFromHash=function(){var e=n.getHighlightById(Xe());e&&n.scrollViewerTo(e)},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.scrollToHighlightFromHash,!1)}},{key:"getHighlightById",value:function(e){return this.state.highlights.find((function(t){return t.id===e}))}},{key:"addHighlight",value:function(e){var t=this.state.highlights;this.setState({highlights:[Object(s.a)({},e,{id:String(Math.random()).slice(2)})].concat(Object(c.a)(t))})}},{key:"updateHighlight",value:function(e,t,n){console.log("Updating highlight",e,t,n),this.setState({highlights:this.state.highlights.map((function(a){return a.id===e?Object(s.a)({},a,{position:Object(s.a)({},a.position,{},t),content:Object(s.a)({},a.content,{},n)}):a}))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.highlights,a=t.rotate,r=t.scale;return localStorage.setItem(Je,JSON.stringify(n)),i.a.createElement("div",{className:"App",style:{display:"flex",height:"100vh",backgroundColor:"gray"}},i.a.createElement(v.a,null,i.a.createElement("div",{style:{height:"100vh",width:"75vw",overflowY:"scroll",position:"relative"}},i.a.createElement("div",{className:"border rounded"},i.a.createElement(ze,{onZoom:function(t){return e.setZoom(t)},onRotation:function(t){return e.setRotation(t)},scaleStep:.1,maxScale:5,minScale:.5})),i.a.createElement(me,{url:Je,beforeLoad:i.a.createElement(Ye,null)},(function(t){return i.a.createElement(J,{pdfDocument:t,rotate:a,scale:r,enableAreaSelection:function(e){return e.altKey},onScrollChange:Ue,scrollRef:function(t){e.scrollViewerTo=t,e.scrollToHighlightFromHash()},onSelectionFinished:function(t,n,a,r){return i.a.createElement(K,{onOpen:r,onConfirm:function(i){e.addHighlight({content:n,position:t,comment:i}),a()}})},highlightTransform:function(t,n,o,s,c,l,h){var u=!Boolean(t.content&&t.content.image)?i.a.createElement($,{isScrolledTo:h,position:t.position,comment:t.comment,rotate:a,scale:r}):i.a.createElement(se,{rotate:a,scale:r,highlight:t,onChange:function(n){e.updateHighlight(t.id,{boundingRect:c(n)},{image:l(n)})}});return i.a.createElement(ae,{rotate:a,scale:r,popupContent:i.a.createElement(We,t),onMouseOver:function(e){return o(t,(function(t){return e}))},onMouseOut:s,key:n,children:u})},highlights:n})}))),i.a.createElement(Fe,{highlights:n,resetHighlights:this.resetHighlights,removeHighlight:this.removeHighlight,rotate:this.rotate,scale:this.scale})))}}]),t}(a.Component);o.a.render(i.a.createElement(Qe,null),document.getElementById("root"))}},[[31,1,2]]]);