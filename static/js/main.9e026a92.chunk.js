(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{17:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=17},31:function(e,t,n){e.exports=n(73)},49:function(e,t){},50:function(e,t){},51:function(e,t){},52:function(e,t){},53:function(e,t){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(9),r=n.n(o),s=n(11),c=n(15),l=n(3),u=n(4),h=n(6),d=n(5),m=n(7),g=n(25),p=n.n(g),f=n(26),v=n.n(f),b=(n(39),n(8)),y=n(14),O=n(2),w=n(27),E=n.n(w),j=n(28),R=n.n(j),S=n(19),k=(n(60),n(61),n(62),function(e){var t=Array.from(e).map((function(e){var t=e.left,n=e.top;return{X0:t,X1:t+e.width,Y0:n,Y1:n+e.height}})),n=t.reduce((function(e,t){return{X0:Math.min(e.X0,t.X0),X1:Math.max(e.X1,t.X1),Y0:Math.min(e.Y0,t.Y0),Y1:Math.max(e.Y1,t.Y1)}}),t[0]),a=n.X0,i=n.X1,o=n.Y0;return{left:a,top:o,width:i-a,height:n.Y1-o}}),N=function(e,t){return e.left<=t.left&&t.left<=e.left+e.width},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return Math.abs(e.top-t.top)<n&&Math.abs(e.height-t.height)<n},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=e.left+e.width,i=t.left+t.width;return e.left<=t.left&&a<=i&&t.left-a<=n},x=function(e,t){e.width=Math.max(t.width-e.left+t.left,e.width)},T=function(e){for(var t=function(e){return e.sort((function(e,t){var n=e.top-t.top;return 0===n?e.left-t.left:n}))}(e),n=new Set,a=t.filter((function(e){return t.every((function(t){return a=t,!((n=e).top>a.top&&n.left>a.left&&n.top+n.height<a.top+a.height&&n.left+n.width<a.left+a.width);var n,a}))})),i=0;i<=2;)a.forEach((function(e){a.forEach((function(t){e===t||n.has(e)||n.has(t)||P(e,t)&&(N(e,t)&&(x(e,t),e.height=Math.max(e.height,t.height),n.add(t)),C(e,t)&&(x(e,t),n.add(t)))}))})),i+=1;return a.filter((function(e){return!n.has(e)}))},D=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Array.from(e.getClientRects()),i=t.getBoundingClientRect(),o=a.map((function(e){return{top:e.top+t.scrollTop-i.top,left:e.left+t.scrollLeft-i.left,width:e.width,height:e.height}}));return n?T(o):o},A=function(e,t){var n=t.left,a=t.top,i=t.width,o=t.height,r=document.createElement("canvas");if(!(r instanceof HTMLCanvasElement))return"";r.width=i,r.height=o;var s=r.getContext("2d");if(!s||!e)return"";var c=window.devicePixelRatio;return s.drawImage(e,n*c,a*c,i*c,o*c,0,0,i,o),r.toDataURL("image/png")},H=function(e){var t=e.closest(".page");return t instanceof HTMLElement?{node:t,number:Number(t.dataset.pageNumber)}:null},M=function(e){var t=e.startContainer.parentElement;if(t instanceof HTMLElement)return H(t)},L=function(e,t){var n=e.querySelector(".".concat(t));return n||((n=document.createElement("div")).className=t,e.appendChild(n)),n};function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),Z(Object(O.a)(n),"state",{height:0,width:0}),Z(Object(O.a)(n),"updatePosition",(function(){var e=n.refs.container;if(void 0!==e){var t=e.offsetHeight,a=e.offsetWidth;n.setState({height:t,width:a})}})),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.updatePosition()}},{key:"componentDidMount",value:function(){setTimeout(this.updatePosition,0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.style,o=t.scrollTop,r=t.pageBoundingRect,s=this.state,c=s.height,l=s.width,u=0===l&&0===c,h=a.top-c-5<o,d=h?a.bottom+5:a.top-c-5,m=function(e,t,n){return Math.min(Math.max(e,t),n)}(a.left-l/2,0,r.width-l),g=i.a.Children.map(n,(function(t){return i.a.cloneElement(t,{onUpdate:function(){e.setState({width:0,height:0},(function(){setTimeout(e.updatePosition,0)}))},popup:{position:h?"below":"above"}})}));return i.a.createElement("div",{className:"PdfHighlighter__tip-container",style:{visibility:u?"hidden":"visible",top:d,left:m},ref:"container"},g)}}]),t}(a.Component);n(63);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),q(Object(O.a)(n),"state",{locked:!1,start:null,end:null}),q(Object(O.a)(n),"root",void 0),q(Object(O.a)(n),"reset",(function(){(0,n.props.onDragEnd)(),n.setState({start:null,end:null,locked:!1})})),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getBoundingRect",value:function(e,t){return{left:Math.min(t.x,e.x),top:Math.min(t.y,e.y),width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}}},{key:"componentDidUpdate",value:function(){var e=this.props.onChange,t=this.state,n=t.start,a=t.end;e(Boolean(n&&a))}},{key:"componentDidMount",value:function(){var e=this;if(this.root){var t=this,n=this.props,a=n.onSelection,i=n.onDragStart,o=n.onDragEnd,r=n.shouldStart,s=this.root.parentElement;if(s instanceof HTMLElement){var c=null,l=function(e,t){return c||(c=s.getBoundingClientRect()),{x:e-c.left+s.scrollLeft,y:t-c.top+s.scrollTop}};s.addEventListener("mousemove",(function(n){var a=e.state,i=a.start,o=a.locked;i&&!o&&t.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state,{end:l(n.pageX,n.pageY)}))})),s.addEventListener("mousedown",(function(n){if(r(n)){var c=n.target;if(c instanceof HTMLElement){i(),e.setState({start:l(n.pageX,n.pageY),end:null,locked:!1});document.body&&document.body.addEventListener("mouseup",(function n(i){i.currentTarget.removeEventListener("mouseup",n);var r=e.state.start;if(r){var u=l(i.pageX,i.pageY),h=t.getBoundingRect(r,u);i.target instanceof HTMLElement&&s.contains(i.target)&&t.shouldRender(h)?t.setState({end:u,locked:!0},(function(){var e=t.state,n=e.start,r=e.end;n&&r&&i.target instanceof HTMLElement&&(a(c,h,t.reset),o())})):t.reset()}}))}}else e.reset()}))}}}},{key:"shouldRender",value:function(e){return e.width>=1&&e.height>=1}},{key:"render",value:function(){var e=this,t=this.state,n=t.start,a=t.end;return i.a.createElement("div",{className:"MouseSelection-container",ref:function(t){return e.root=t}},n&&a?i.a.createElement("div",{className:"MouseSelection",style:this.getBoundingRect(n,a)}):null)}}]),t}(a.Component),V=n(10),Y=function(e,t){var n=t.width,a=t.height;return{x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,width:n,height:a}},X=function(e,t){var n=t.convertToViewportRectangle([e.x1,e.y1,e.x2,e.y2]),a=Object(V.a)(n,4),i=a[0],o=a[1];return{left:i,top:o,width:a[2]-i,height:o-a[3]}},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,i=t.width,o=t.height;if(n)return X(e,t);if(void 0===e.x1)throw new Error("You are using old position format, please update");var r=i*e.x1/e.width/a,s=o*e.y1/e.height/a,c=i*e.x2/e.width/a,l=o*e.y2/e.height/a;return{left:r,top:s,width:c-r,height:l-s}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),W(Object(O.a)(n),"state",{ghostHighlight:null,isCollapsed:!0,range:null,scrolledToHighlightId:"empty-id",isAreaSelectionInProgress:!1,tip:null,rotate:0,scale:1}),W(Object(O.a)(n),"viewer",void 0),W(Object(O.a)(n),"linkService",void 0),W(Object(O.a)(n),"containerNode",null),W(Object(O.a)(n),"debouncedAfterSelection",void 0),W(Object(O.a)(n),"hideTipAndSelection",(function(){var e=L(n.viewer.viewer,"PdfHighlighter__tip-layer");r.a.unmountComponentAtNode(e),n.setState({ghostHighlight:null,tip:null},(function(){return n.renderHighlights()}))})),W(Object(O.a)(n),"onTextLayerRendered",(function(){n.renderHighlights()})),W(Object(O.a)(n),"scrollTo",(function(e){var t=e.position,a=t.pageNumber,i=t.boundingRect,o=t.usePdfCoordinates;n.viewer.container.removeEventListener("scroll",n.onScroll);var r=n.viewer.getPageView(a-1).viewport,s=n.viewer.currentScaleValue;n.viewer.scrollPageIntoView({pageNumber:a,destArray:[null,{name:"XYZ"}].concat(Object(c.a)(r.convertToPdfPoint(0,F(i,r,o,s).top-10)),[0])}),n.setState({scrolledToHighlightId:e.id},(function(){return n.renderHighlights()})),setTimeout((function(){n.viewer.container.addEventListener("scroll",n.onScroll)}),100)})),W(Object(O.a)(n),"onDocumentReady",(function(){(0,n.props.scrollRef)(n.scrollTo)})),W(Object(O.a)(n),"onSelectionChange",(function(){var e=window.getSelection();if(e.isCollapsed)n.setState({isCollapsed:!0});else{var t=e.getRangeAt(0);t&&(n.setState({isCollapsed:!1,range:t}),n.debouncedAfterSelection())}})),W(Object(O.a)(n),"onScroll",(function(){(0,n.props.onScrollChange)(),n.setState({scrolledToHighlightId:"empty-id"},(function(){return n.renderHighlights()})),n.viewer.container.removeEventListener("scroll",n.onScroll)})),W(Object(O.a)(n),"onMouseDown",(function(e){e.target instanceof HTMLElement&&(e.target.closest(".PdfHighlighter__tip-container")||n.hideTipAndSelection())})),W(Object(O.a)(n),"handleKeyDown",(function(e){"Escape"===e.code&&n.hideTipAndSelection()})),W(Object(O.a)(n),"afterSelection",(function(){var e=n.props.onSelectionFinished,t=n.state,a=t.isCollapsed,i=t.range;if(i&&!a){var o=M(i);if(o){var r=D(i,o.node);if(0!==r.length){var s={boundingRect:k(r),rects:r,pageNumber:o.number},c={text:i.toString()},l=n.viewportPositionToScaled(s);n.renderTipAtPosition(s,e(l,c,(function(){return n.hideTipAndSelection()}),(function(){return n.setState({ghostHighlight:{position:l}},(function(){return n.renderHighlights()}))})))}}}})),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){e.highlights===this.props.highlights&&e.rotate===this.props.rotate&&e.scale===this.props.scale||this.renderHighlights(this.props)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.pdfDocument;this.debouncedAfterSelection=R.a.debounce(500,this.afterSelection),this.linkService=new S.PDFLinkService,this.viewer=new S.PDFViewer({container:this.containerNode,enhanceTextSelection:!0,removePageBorders:!0,useOnlyCssZoom:!0,linkService:this.linkService,scale:1}),this.viewer.setDocument(t),this.linkService.setDocument(t),this.linkService.setViewer(this.viewer),window.PdfViewer=this,document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("pagesinit",(function(){e.onDocumentReady()})),document.addEventListener("textlayerrendered",this.onTextLayerRendered)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("textlayerrendered",this.onTextLayerRendered)}},{key:"findOrCreateHighlightLayer",value:function(e){var t=this.viewer.getPageView(e-1).textLayer;return t?L(t.textLayerDiv,"PdfHighlighter__highlight-layer"):null}},{key:"groupHighlightsByPage",value:function(e){var t=this.state.ghostHighlight;return[].concat(Object(c.a)(e),[t]).filter(Boolean).reduce((function(e,t){var n=t.position.pageNumber;return e[n]=e[n]||[],e[n].push(t),e}),{})}},{key:"showTip",value:function(e,t){var n=this.state,a=n.isCollapsed,i=n.ghostHighlight,o=n.isAreaSelectionInProgress;!a||i||o||this.renderTipAtPosition(e.position,t)}},{key:"scaledPositionToViewport",value:function(e){var t=e.pageNumber,n=e.boundingRect,a=e.rects,i=e.usePdfCoordinates,o=this.viewer.getPageView(t-1).viewport,r=this.viewer.currentScaleValue;return{boundingRect:F(n,o,i,r),rects:(a||[]).map((function(e){return F(e,o,i,r)})),pageNumber:t}}},{key:"viewportPositionToScaled",value:function(e){var t=e.pageNumber,n=e.boundingRect,a=e.rects,i=this.viewer.getPageView(t-1).viewport;return{boundingRect:Y(n,i),rects:(a||[]).map((function(e){return Y(e,i)})),pageNumber:t}}},{key:"scale",value:function(e,t){this.viewer._currentPageNumber;this.viewer.currentScaleValue=e,this.viewer.pagesRotation=t}},{key:"screenshot",value:function(e,t){var n=this.viewer.getPageView(t-1).canvas;return A(n,e)}},{key:"renderHighlights",value:function(e){var t=this,n=e||this.props,a=n.highlightTransform,o=n.highlights,s=n.rotate,c=n.scale;this.scale(c,s);for(var l=this.props.pdfDocument,u=this.state,h=u.tip,d=u.scrolledToHighlightId,m=this.groupHighlightsByPage(o),g=function(e){var n=t.findOrCreateHighlightLayer(e);n&&r.a.render(i.a.createElement("div",null,(m[String(e)]||[]).map((function(n,i){var o=n.position,r=Object(y.a)(n,["position"]),s=U({position:t.scaledPositionToViewport(o)},r);h&&h.highlight.id===String(n.id)&&t.showTip(h.highlight,h.callback(s));var c=Boolean(d===n.id);return a(s,i,(function(e,n){t.setState({tip:{highlight:e,callback:n}}),t.showTip(e,n(e))}),t.hideTipAndSelection,(function(n){var a=t.viewer.getPageView(e-1).viewport;return Y(n,a)}),(function(n){return t.screenshot(n,e)}),c)}))),n)},p=1;p<=l.numPages;p++)g(p)}},{key:"renderTipAtPosition",value:function(e,t){var n=e.boundingRect,a=e.pageNumber,o={node:this.viewer.getPageView(a-1).div},s=o.node.getBoundingClientRect(),c=L(this.viewer.viewer,"PdfHighlighter__tip-layer");r.a.render(i.a.createElement(B,{scrollTop:this.viewer.container.scrollTop,pageBoundingRect:s,style:{left:o.node.offsetLeft+n.left+n.width/2,top:n.top+o.node.offsetTop,bottom:n.top+o.node.offsetTop+n.height},children:t}),c)}},{key:"toggleTextSelection",value:function(e){this.viewer.viewer.classList.toggle("PdfHighlighter--disable-selection",e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSelectionFinished,a=t.enableAreaSelection;return i.a.createElement(E.a,{onPointerDown:this.onMouseDown},i.a.createElement("div",{ref:function(t){return e.containerNode=t},className:"PdfHighlighter",onContextMenu:function(e){return e.preventDefault()}},i.a.createElement("div",{className:"pdfViewer"}),"function"===typeof a?i.a.createElement(I,{onDragStart:function(){return e.toggleTextSelection(!0)},onDragEnd:function(){return e.toggleTextSelection(!1)},onChange:function(t){return e.setState({isAreaSelectionInProgress:t})},shouldStart:function(e){return a(e)&&e.target instanceof HTMLElement&&Boolean(e.target.closest(".page"))},onSelection:function(t,a,i){var o=H(t);if(o){var r=U({},a,{top:a.top-o.node.offsetTop,left:a.left-o.node.offsetLeft}),s={boundingRect:r,rects:[],pageNumber:o.number},c=e.viewportPositionToScaled(s),l=e.screenshot(r,o.number);e.renderTipAtPosition(s,n(c,{image:l},(function(){return e.hideTipAndSelection()}),(function(){return e.setState({ghostHighlight:{position:c,content:{image:l}}},(function(){i(),e.renderHighlights()}))})))}}}):null))}}]),t}(a.PureComponent);n(64);function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),K(Object(O.a)(n),"state",{compact:!0,text:"",emoji:""}),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.onUpdate;n&&this.state.compact!==t.compact&&n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onConfirm,a=t.onOpen,o=this.state,r=o.compact,s=o.text,c=o.emoji;return i.a.createElement("div",{className:"Tip"},r?i.a.createElement("div",{className:"Tip__compact",onClick:function(){a(),e.setState({compact:!1})}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"):i.a.createElement("form",{className:"Tip__card",onSubmit:function(e){e.preventDefault(),n({text:s,emoji:c})}},i.a.createElement("div",null,i.a.createElement("textarea",{width:"100%",placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",autoFocus:!0,value:s,onChange:function(t){return e.setState({text:t.target.value})},ref:function(e){e&&e.focus()}}),i.a.createElement("div",null,["\ud83d\udd25","\u26a0\ufe0f"].map((function(t){return i.a.createElement("label",{key:t},i.a.createElement("input",{checked:c===t,type:"radio",name:"emoji",value:t,onChange:function(t){return e.setState({emoji:t.target.value})}}),t)})))),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}))))}}]),t}(a.Component),Q=(n(65),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.position,n=e.onClick,a=e.onMouseOver,o=e.onMouseOut,r=e.comment,s=e.isScrolledTo,c=t.rects,l=t.boundingRect;return i.a.createElement("div",{className:"Highlight ".concat(s?"Highlight--scrolledTo":"")},r?i.a.createElement("div",{className:"Highlight__emoji",style:{left:20,top:l.top}},r.emoji):null,i.a.createElement("div",{className:"Highlight__parts"},c.map((function(e,t){return i.a.createElement("div",{onMouseOver:a,onMouseOut:o,onClick:n,key:t,style:e,className:"Highlight__part"})}))))}}]),t}(a.Component));function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),$(Object(O.a)(n),"container",void 0),$(Object(O.a)(n),"onMouseMove",(function(e){if(n.container){var t=n.props,a=t.onMoveAway,i=t.paddingX,o=t.paddingY,r=e.clientX,s=e.clientY,c=n.container.getBoundingClientRect(),l=c.left,u=c.top,h=c.width,d=c.height;r>l-i&&r<l+h+i&&(s>u-o&&s<u+d+o)||a()}})),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.onMouseMove)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onMoveAway,t.paddingX,t.paddingY,t.children),a=Object(y.a)(t,["onMoveAway","paddingX","paddingY","children"]);return i.a.createElement("div",{ref:function(t){return e.container=t}},i.a.cloneElement(n,a))}}]),t}(a.Component);function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),te(Object(O.a)(n),"state",{mouseIn:!1}),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onMouseOver,a=t.popupContent,o=t.onMouseOut;return i.a.createElement("div",{onMouseOver:function(){e.setState({mouseIn:!0}),n(i.a.createElement(ee,{onMoveAway:function(){e.state.mouseIn||o()},paddingX:60,paddingY:30,children:a}))},onMouseOut:function(){e.setState({mouseIn:!1})}},this.props.children)}}]),t}(a.Component),ae=n(30);n(66);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var re=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.highlight,n=e.onChange,a=Object(y.a)(e,["highlight","onChange"]);return i.a.createElement(ae.a,oe({className:"AreaHighlight",onDragStop:function(e,a){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.position.boundingRect,{top:a.y,left:a.x});n(i)},onResizeStop:function(e,t,a,i,o){var r={top:o.y,left:o.x,width:a.offsetWidth,height:a.offsetHeight};n(r)},position:{x:t.position.boundingRect.left,y:t.position.boundingRect.top},size:{width:t.position.boundingRect.width,height:t.position.boundingRect.height},onClick:function(e){e.stopPropagation(),e.preventDefault()}},a))}}]),t}(a.Component),se=n(13),ce=n.n(se),le=n(18),ue=n.n(le);function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))),he(Object(O.a)(n),"state",{pdfDocument:null}),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.url,a=t.onError;ce.a.getDocument({url:n,eventBusDispatchToDOM:!0}).promise.then((function(t){e.setState({pdfDocument:t})})).catch(a)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.beforeLoad,a=this.state.pdfDocument;return a?t(a):n}}]),t}(a.Component),me=n(1),ge=n.n(me),pe=(n(67),n(68),n(69),n(16)),fe=n.n(pe),ve=function(e){var t=e.message;return i.a.createElement("div",{className:"columns has-text-danger has-margin-top-5 is-mobile"},i.a.createElement("div",{className:"column is-4 has-text-right has-padding-5"},i.a.createElement("span",{className:"icon"},i.a.createElement("i",{className:"material-icons"},"error_outline"))),i.a.createElement("div",{className:"column is-8 has-text-left has-padding-5"},i.a.createElement("small",null,t)))};ve.propTypes={message:ge.a.string.isRequired};var be=ve;ce.a.GlobalWorkerOptions.workerSrc=ue.a;var ye=null,Oe=function(e){var t=e.src,n=e.pageNum,o=e.scale,r=e.rotation,s=e.pageCount,c=e.protectContent,l=e.watermark,u=e.alert,h=Object(a.useState)({status:!1,message:""}),d=Object(V.a)(h,2),m=d[0],g=d[1],p=Object(a.useRef)(null),f=u||be;return Object(a.useEffect)((function(){!function(){var e,a,i,c,u,h,d,m,f,v,b,y,O,w;fe.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,fe.a.awrap(ce.a.getDocument(t).promise);case 3:return ye=E.sent,E.prev=4,E.next=7,fe.a.awrap(ye.getPage(n));case 7:return e=E.sent,a=e.getViewport({scale:o,rotation:r}),(i=p.current).height=a.height,i.width=a.width,c=i.getContext("2d"),u={canvasContext:c,viewport:a},h=e.render(u),E.prev=15,E.next=18,fe.a.awrap(h.promise);case 18:0!==Object.entries(l).length&&(d=l.text,m=l.diagonal,f=l.opacity,v=l.size,b=l.color,c.globalAlpha=f,c.font="".concat(v*o,"px Comic Sans MS"),c.fillStyle=b,y=c.measureText(d),O=y.width,w=v*o,c.translate(a.width/2,a.height/2),m&&c.rotate(-.785),c.fillText(d,-O/2,w/2)),s(ye.numPages),E.next=26;break;case 22:E.prev=22,E.t0=E.catch(15),console.warn("Error occured while rendering !\n",E.t0),g({status:!0,message:"Error occured while rendering !"});case 26:E.next=32;break;case 28:E.prev=28,E.t1=E.catch(4),console.warn("Error while reading the pages !\n",E.t1),g({status:!0,message:"Error while reading the pages !"});case 32:E.next=38;break;case 34:E.prev=34,E.t2=E.catch(0),console.warn("Error while opening the document !\n",E.t2),g({status:!0,message:"Error while opening the document !"});case 38:case"end":return E.stop()}}),null,null,[[0,34],[4,28],[15,22]])}()}),[t,n,o,r,s]),m.status?(s(-1),i.a.createElement(f,{message:m.message})):i.a.createElement("canvas",{onContextMenu:function(e){return c?e.preventDefault():null},ref:p,width:"undefined"!==typeof window&&window.innerWidth,height:"undefined"!==typeof window&&window.innerHeight})};Oe.propTypes={src:ge.a.any.isRequired,pageNum:ge.a.number.isRequired,scale:ge.a.number.isRequired,rotation:ge.a.number.isRequired,pageCount:ge.a.func,protectContent:ge.a.bool,watermark:ge.a.shape({text:ge.a.string,diagonal:ge.a.bool,opacity:ge.a.string,size:ge.a.string,color:ge.a.string})},Oe.defaultProps={pageCount:function(){},protectContent:!1,watermark:{}};var we=function(e){var t=e.css,n=e.page,o=e.pages,r=e.handleNextClick,s=t||"button is-black is-marginless",c=Object(a.useState)(!1),l=Object(V.a)(c,2),u=l[0],h=l[1];return u||n===o?i.a.createElement("button",{className:s,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right"))):i.a.createElement("button",{className:s,onClick:function(){h(!0),r(),setTimeout((function(){h(!1)}),200)},disabled:u},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right")))};we.propTypes={css:ge.a.string,page:ge.a.number.isRequired,pages:ge.a.number.isRequired,handleNextClick:ge.a.func.isRequired};var Ee=function(e){var t=e.css,n=e.page,a=e.pages,o=t||"is-size-7 is-vcentered has-text-centered is-inline-flex has-padding-top-5 button is-black is-marginless has-margin-left-5 has-margin-right-5";return i.a.createElement("span",{className:o},"Page ".concat(n," / ").concat(a))};Ee.propTypes={css:ge.a.string,page:ge.a.number.isRequired,pages:ge.a.number.isRequired};var je=function(e){var t=e.css,n=e.page,o=e.handlePrevClick,r=t||"button is-black is-marginless",s=Object(a.useState)(!1),c=Object(V.a)(s,2),l=c[0],u=c[1];return l||1===n?i.a.createElement("button",{className:r,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_left"))):i.a.createElement("button",{className:r,onClick:function(){u(!0),o(),setTimeout((function(){u(!1)}),200)}},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_left")))};je.propTypes={css:ge.a.string,page:ge.a.number.isRequired,handlePrevClick:ge.a.func.isRequired};var Re=function(e){var t=e.css,n=e.scale,a=e.defaultScale,o=e.maxScale,r=e.handleZoomIn,s=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5",c=o;return a>o&&(c=a),n.toFixed(2)===c.toFixed(2)?i.a.createElement("button",{className:s,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"zoom_in"))):i.a.createElement("button",{className:s,onClick:r},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"zoom_in")))};Re.propTypes={css:ge.a.string,scale:ge.a.number.isRequired,defaultScale:ge.a.number.isRequired,maxScale:ge.a.number.isRequired,handleZoomIn:ge.a.func.isRequired};var Se=Re,ke=function(e){var t=e.css,n=e.scale,a=e.defaultScale,o=e.minScale,r=e.handleZoomOut,s=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5",c=o;return a<o&&(c=a),n.toFixed(2)===c.toFixed(2)?i.a.createElement("button",{className:s,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"zoom_out"))):i.a.createElement("button",{className:s,onClick:r},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"zoom_out")))};ke.propTypes={css:ge.a.string,scale:ge.a.number.isRequired,defaultScale:ge.a.number.isRequired,minScale:ge.a.number.isRequired,handleZoomOut:ge.a.func.isRequired};var Ne=ke,Pe=function(e){var t=e.css,n=e.scale,a=e.defaultScale,o=e.handleResetZoom,r=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return n.toFixed(2)===a.toFixed(2)?i.a.createElement("button",{className:r,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"refresh"))):i.a.createElement("button",{className:r,onClick:o},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"refresh")))};Pe.propTypes={css:ge.a.string,scale:ge.a.number.isRequired,defaultScale:ge.a.number.isRequired,handleResetZoom:ge.a.func.isRequired};var Ce=Pe,xe=function(e){var t=e.css,n=e.rotationAngle,a=e.handleRotateLeft,o=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return-180===n?i.a.createElement("button",{className:o,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"rotate_left"))):i.a.createElement("button",{className:o,onClick:a},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"rotate_left")))};xe.propTypes={css:ge.a.string,rotationAngle:ge.a.number.isRequired,handleRotateLeft:ge.a.func.isRequired};var Te=xe,De=function(e){var t=e.css,n=e.rotationAngle,a=e.handleResetRotation,o=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return 0===n?i.a.createElement("button",{className:o,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"refresh"))):i.a.createElement("button",{className:o,onClick:a},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"refresh")))};De.propTypes={css:ge.a.string,rotationAngle:ge.a.number.isRequired,handleResetRotation:ge.a.func.isRequired};var Ae=De,He=function(e){var t=e.css,n=e.rotationAngle,a=e.handleRotateRight,o=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return 180===n?i.a.createElement("button",{className:o,disabled:!0},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"rotate_right"))):i.a.createElement("button",{className:o,onClick:a},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"material-icons"},"rotate_right")))};He.propTypes={css:ge.a.string,rotationAngle:ge.a.number.isRequired,handleRotateRight:ge.a.func.isRequired};var Me=He,Le=function(e){e.page,e.pages;var t=e.scale,n=e.defaultScale,a=e.maxScale,o=e.minScale,r=e.rotationAngle,s=e.hideZoom,c=e.hideRotation,l=e.css,u=(e.handlePrevClick,e.handleNextClick,e.handleZoomIn),h=e.handleResetZoom,d=e.handleZoomOut,m=e.handleRotateLeft,g=e.handleResetRotation,p=e.handleRotateRight;return i.a.createElement("div",{className:"columns is-gapless ".concat(l.navbarWrapper||"box is-mobile has-text-white has-background-black has-margin-top-15 has-margin-bottom-15")},s?i.a.createElement("div",{className:"column is-2"}):i.a.createElement("div",{className:"column is-2 buttons are-small has-addons"},i.a.createElement(Ne,{scale:t,minScale:o,defaultScale:n,css:l.zoomOutBtn,handleZoomOut:d}),i.a.createElement(Ce,{scale:t,defaultScale:n,css:l.resetZoomBtn,handleResetZoom:h}),i.a.createElement(Se,{scale:t,maxScale:a,defaultScale:n,css:l.zoomInBtn,handleZoomIn:u})),i.a.createElement("div",{className:"column"}),c?i.a.createElement("div",{className:"column is-2"}):i.a.createElement("div",{className:"column is-2 buttons are-small has-addons is-right"},i.a.createElement(Te,{css:l.rotateLeftBtn,rotationAngle:r,handleRotateLeft:m}),i.a.createElement(Ae,{css:l.resetRotationBtn,rotationAngle:r,handleResetRotation:g}),i.a.createElement(Me,{css:l.rotateRightBtn,rotationAngle:r,handleRotateRight:p})))};Le.propTypes={page:ge.a.number.isRequired,pages:ge.a.number.isRequired,scale:ge.a.number,defaultScale:ge.a.number,maxScale:ge.a.number,minScale:ge.a.number,rotationAngle:ge.a.number,hideZoom:ge.a.bool,hideRotation:ge.a.bool,css:ge.a.shape({navbarWrapper:ge.a.string,pages:ge.a.string,pageIndicator:ge.a.string,previousPageBtn:ge.a.string,nextPageBtn:ge.a.string,zoomOutBtn:ge.a.string,resetZoomBtn:ge.a.string,zoomInBtn:ge.a.string,rotateLeftBtn:ge.a.string,resetRotationBtn:ge.a.string,rotateRightBtn:ge.a.string}),elements:ge.a.shape({previousPageBtn:ge.a.any,nextPageBtn:ge.a.any,pages:ge.a.any}),handlePrevClick:ge.a.func.isRequired,handleNextClick:ge.a.func.isRequired,handleZoomIn:ge.a.func.isRequired,handleResetZoom:ge.a.func.isRequired,handleZoomOut:ge.a.func.isRequired,handleRotateLeft:ge.a.func.isRequired,handleResetRotation:ge.a.func.isRequired,handleRotateRight:ge.a.func.isRequired},Le.defaultProps={css:{},elements:{}};var Ze=Le;function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe={display:"inline-block",verticalAlign:"text-bottom",backgroundColor:"currentColor",borderRadius:"50%",opacity:0,width:"0.5rem",height:"0.5rem",animationDuration:"0.75s",animationTimingFunction:"linear",animationIterationCount:"infinite",animationDirection:"normal",animationFillMode:"none",animationPlayState:"running",animationName:"spinner-grow"},Ie=(_e({},qe,{animationDelay:"0s"}),_e({},qe,{animationDelay:"0.25s"}),_e({},qe,{animationDelay:"0.5s"}),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={page:n.props.page,pages:0,scale:n.props.scale,defaultScale:n.props.scale,rotationAngle:n.props.rotationAngle,isReady:!1},n.getPageCount=n.getPageCount.bind(Object(O.a)(n)),n.handlePrevClick=n.handlePrevClick.bind(Object(O.a)(n)),n.handleNextClick=n.handleNextClick.bind(Object(O.a)(n)),n.handleZoomIn=n.handleZoomIn.bind(Object(O.a)(n)),n.handleResetZoom=n.handleResetZoom.bind(Object(O.a)(n)),n.handleZoomOut=n.handleZoomOut.bind(Object(O.a)(n)),n.handleRotateLeft=n.handleRotateLeft.bind(Object(O.a)(n)),n.handleResetRotation=n.handleResetRotation.bind(Object(O.a)(n)),n.handleRotateRight=n.handleRotateRight.bind(Object(O.a)(n)),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getPageCount",value:function(e){this.state.pages!==e&&this.setState({pages:e,isReady:!0})}},{key:"handlePrevClick",value:function(){1!==this.state.page&&(this.setState({page:this.state.page-1}),this.props.onPrevBtnClick&&this.props.onPrevBtnClick(this.state.page-1))}},{key:"handleNextClick",value:function(){this.state.page!==this.pages&&(this.setState({page:this.state.page+1}),this.props.onNextBtnClick&&this.props.onNextBtnClick(this.state.page+1))}},{key:"handleZoomIn",value:function(){var e=this.props.maxScale;this.state.defaultScale>this.props.maxScale&&(e=this.state.defaultScale),this.state.scale<e&&this.setState({scale:this.state.scale+this.props.scaleStep}),this.props.onZoom&&this.props.onZoom(this.state.scale+this.props.scaleStep)}},{key:"handleResetZoom",value:function(){this.setState({scale:this.state.defaultScale}),this.props.onZoom&&this.props.onZoom(this.state.defaultScale)}},{key:"handleZoomOut",value:function(){var e=this.props.minScale;this.state.defaultScale<this.props.minScale&&(e=this.state.defaultScale),this.state.scale>e&&this.setState({scale:this.state.scale-this.props.scaleStep}),this.props.onZoom&&this.props.onZoom(this.state.scale-this.props.scaleStep)}},{key:"handleRotateLeft",value:function(){var e=this.state.rotationAngle-90;-180!==this.state.rotationAngle&&this.setState({rotationAngle:e}),this.props.onRotation&&this.props.onRotation(e)}},{key:"handleResetRotation",value:function(){0!==this.state.rotationAngle&&this.setState({rotationAngle:0}),this.props.onRotation&&this.props.onRotation(0)}},{key:"handleRotateRight",value:function(){var e=this.state.rotationAngle+90;180!==this.state.rotationAngle&&this.setState({rotationAngle:e}),this.props.onRotation&&this.props.onRotation(e)}},{key:"render",value:function(){var e=this.props,t=(e.loader,e.maxScale),n=e.minScale,a=e.hideNavbar,o=e.hideZoom,r=e.hideRotation,s=(e.navbarOnTop,e.navigation),c=e.css,l=(e.canvasCss,e.onDocumentClick,e.protectContent,e.watermark,e.alert,this.state),u=l.page,h=l.pages,d=l.scale,m=l.defaultScale,g=l.rotationAngle,p=s,f=null;return a||(f=!s||s&&"object"===typeof s?i.a.createElement(Ze,{page:u,pages:h,scale:d,defaultScale:m,maxScale:t,minScale:n,rotationAngle:g,hideZoom:o,hideRotation:r,css:s?s.css:void 0,handleNextClick:this.handleNextClick,handlePrevClick:this.handlePrevClick,handleZoomIn:this.handleZoomIn,handleResetZoom:this.handleResetZoom,handleZoomOut:this.handleZoomOut,handleRotateLeft:this.handleRotateLeft,handleResetRotation:this.handleResetRotation,handleRotateRight:this.handleRotateRight}):i.a.createElement(p,{page:u,pages:h,scale:d,defaultScale:m,maxScale:t,minScale:n,rotationAngle:g,hideZoom:o,hideRotation:r,handleNextClick:this.handleNextClick,handlePrevClick:this.handlePrevClick,handleZoomIn:this.handleZoomIn,handleResetZoom:this.handleResetZoom,handleZoomOut:this.handleZoomOut,handleRotateLeft:this.handleRotateLeft,handleResetRotation:this.handleResetRotation,handleRotateRight:this.handleRotateRight})),i.a.createElement("div",{className:c||"container text-center"},i.a.createElement("div",null,i.a.createElement("div",null,f)))}}]),t}(i.a.Component));Ie.propTypes={loader:ge.a.node,page:ge.a.number,scale:ge.a.number,scaleStep:ge.a.number,maxScale:ge.a.number,minScale:ge.a.number,css:ge.a.string,canvasCss:ge.a.string,rotationAngle:ge.a.number,onDocumentClick:ge.a.func,onPrevBtnClick:ge.a.func,onNextBtnClick:ge.a.func,onZoom:ge.a.func,onRotation:ge.a.func,hideNavbar:ge.a.bool,navbarOnTop:ge.a.bool,hideZoom:ge.a.bool,hideRotation:ge.a.bool,protectContent:ge.a.bool,watermark:ge.a.shape({text:ge.a.string,diagonal:ge.a.bool,opacity:ge.a.string,size:ge.a.string,color:ge.a.string}),alert:ge.a.any,navigation:ge.a.oneOfType([ge.a.shape({css:ge.a.shape({navbarWrapper:ge.a.string,zoomOutBtn:ge.a.string,resetZoomBtn:ge.a.string,zoomInBtn:ge.a.string,previousPageBtn:ge.a.string,pageIndicator:ge.a.string,nextPageBtn:ge.a.string,rotateLeftBtn:ge.a.string,resetRotationBtn:ge.a.string,rotateRightBtn:ge.a.string})}),ge.a.any])},Ie.defaultProps={page:1,defaultScale:1,scale:1,scaleStep:1,maxScale:3,minScale:1,rotationAngle:0,hideNavbar:!1,hideZoom:!1,hideRotation:!1,navbarOnTop:!1};var Ve=Ie,Ye=(n(71),function(){return i.a.createElement("div",{style:{display:"flex",alignItems:"center",height:"100vh"}},i.a.createElement("div",{className:"sk-fading-circle"},i.a.createElement("div",{className:"sk-circle1 sk-circle"}),i.a.createElement("div",{className:"sk-circle2 sk-circle"}),i.a.createElement("div",{className:"sk-circle3 sk-circle"}),i.a.createElement("div",{className:"sk-circle4 sk-circle"}),i.a.createElement("div",{className:"sk-circle5 sk-circle"}),i.a.createElement("div",{className:"sk-circle6 sk-circle"}),i.a.createElement("div",{className:"sk-circle7 sk-circle"}),i.a.createElement("div",{className:"sk-circle8 sk-circle"}),i.a.createElement("div",{className:"sk-circle9 sk-circle"}),i.a.createElement("div",{className:"sk-circle10 sk-circle"}),i.a.createElement("div",{className:"sk-circle11 sk-circle"}),i.a.createElement("div",{className:"sk-circle12 sk-circle"})))});var Xe=function(e){var t=e.highlights,n=e.resetHighlights;return i.a.createElement("div",{className:"sidebar",style:{width:"25vw"}},i.a.createElement("div",{className:"description",style:{padding:"1rem"}},i.a.createElement("h2",{style:{marginBottom:"1rem"}},"\u0412\u0430\u0448\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),i.a.createElement("p",null,i.a.createElement("small",null,"\u0414\u043b\u044f \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 Alt \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f"))),i.a.createElement("ul",{className:"sidebar__highlights"},t.map((function(e,t){return i.a.createElement("li",{key:t,className:"sidebar__highlight",onClick:function(){!function(e){document.location.hash="highlight-".concat(e.id)}(e)}},i.a.createElement("div",null,i.a.createElement("strong",null,e.comment.text),e.content.text?i.a.createElement("blockquote",{style:{marginTop:"0.5rem"}},"".concat(e.content.text.slice(0,90).trim(),"\u2026")):null,e.content.image?i.a.createElement("div",{className:"highlight__image",style:{marginTop:"0.5rem"}},i.a.createElement("img",{src:e.content.image,alt:"Screenshot"})):null),i.a.createElement("div",{className:"highlight__location"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",e.position.pageNumber))}))),t.length>0?i.a.createElement("div",{style:{padding:"1rem"}},i.a.createElement("button",{onClick:n},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c")):null)},Fe=(n(72),function(){return document.location.hash.slice("#highlight-".length)}),ze=function(){document.location.hash=""},Ue=function(e){var t=e.comment;return t.text?i.a.createElement("div",{className:"Highlight__popup"},t.emoji," ",t.text):null},We=new p.a(document.location.search).get("url")||"https://arxiv.org/pdf/1708.08021.pdf",Je=localStorage.getItem(We);function Ke(e){try{JSON.parse(e)}catch(t){return!1}return!0}var Ge=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={highlights:Ke(Je)&&JSON.parse(Je)?Object(c.a)(JSON.parse(Je)):[],rotate:0,scale:1},n.resetHighlights=function(){n.setState(Object(s.a)({},n.state,{highlights:[]}))},n.setRotation=function(e){n.setState(Object(s.a)({},n.state,{rotate:e}))},n.setZoom=function(e){n.setState(Object(s.a)({},n.state,{scale:e}))},n.scrollViewerTo=function(e){},n.scrollToHighlightFromHash=function(){var e=n.getHighlightById(Fe());e&&n.scrollViewerTo(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.scrollToHighlightFromHash,!1)}},{key:"getHighlightById",value:function(e){return this.state.highlights.find((function(t){return t.id===e}))}},{key:"addHighlight",value:function(e){var t=this.state.highlights;this.setState({highlights:[Object(s.a)({},e,{id:String(Math.random()).slice(2)})].concat(Object(c.a)(t))})}},{key:"updateHighlight",value:function(e,t,n){console.log("Updating highlight",e,t,n),this.setState({highlights:this.state.highlights.map((function(a){return a.id===e?Object(s.a)({},a,{position:Object(s.a)({},a.position,{},t),content:Object(s.a)({},a.content,{},n)}):a}))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.highlights,a=t.rotate,o=t.scale;return localStorage.setItem(We,JSON.stringify(n)),i.a.createElement("div",{className:"App",style:{display:"flex",height:"100vh"}},i.a.createElement(v.a,null,i.a.createElement("div",{style:{height:"100vh",width:"75vw",overflowY:"scroll",position:"relative"}},i.a.createElement("div",{className:"border rounded"},i.a.createElement(Ve,{onZoom:function(t){return e.setZoom(t)},onRotation:function(t){return e.setRotation(t)},scaleStep:.1,maxScale:5,minScale:.5})),i.a.createElement(de,{url:We,beforeLoad:i.a.createElement(Ye,null)},(function(t){return i.a.createElement(J,{pdfDocument:t,rotate:a,scale:o,enableAreaSelection:function(e){return e.altKey},onScrollChange:ze,scrollRef:function(t){e.scrollViewerTo=t,e.scrollToHighlightFromHash()},onSelectionFinished:function(t,n,a,o){return i.a.createElement(G,{onOpen:o,onConfirm:function(i){e.addHighlight({content:n,position:t,comment:i}),a()}})},highlightTransform:function(t,n,a,o,r,s,c){var l=!Boolean(t.content&&t.content.image)?i.a.createElement(Q,{isScrolledTo:c,position:t.position,comment:t.comment}):i.a.createElement(re,{highlight:t,onChange:function(n){e.updateHighlight(t.id,{boundingRect:r(n)},{image:s(n)})}});return i.a.createElement(ne,{popupContent:i.a.createElement(Ue,t),onMouseOver:function(e){return a(t,(function(t){return e}))},onMouseOut:o,key:n,children:l})},highlights:n})}))),i.a.createElement(Xe,{highlights:n,resetHighlights:this.resetHighlights,rotate:this.rotate,scale:this.scale})))}}]),t}(a.Component);r.a.render(i.a.createElement(Ge,null),document.getElementById("root"))}},[[31,1,2]]]);